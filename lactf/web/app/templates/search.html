{% extends "base.html" %} {% block main %}
<h1 class="mt-5">Search</h1>
<div class="main-page">
  {% with messages = get_flashed_messages() %} {% if messages %}
  <div class="alert alert-danger">
    <ul>
      {% for message in messages %}
      <li>{{ message }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %} {% endwith %}
  <div class="search-bar">
    <form action="/search" method="GET">
      <label for="search-query">Query</label><br />
      <input type="text" name="search-query" /><br />
      <input type="submit" value="search" /><br />
      <small>or <a href="{{ url_for('image_search') }}">image search</a></small>
    </form>
  </div>
  <br />
  <div class="container results">
    <hr />
    {% for post in results %}
    <div class="message">
      <a href="/posts?post_id={{post.id}}"><h3>{{ post.title }}</h3></a>
      <p>{{ post.date }}</p>
      <p>{{ post.content }}</p>
      <p>Author: {{ post.author }}</p>
      <hr />
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
